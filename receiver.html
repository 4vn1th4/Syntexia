<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FoodLink ‚Äî Receiver</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- LEAFLET -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:"Inter", sans-serif; background: radial-gradient(circle at top right, #0f2a44, #050b14); color:#e5e7eb; }

/* NAVBAR */
nav {
  position: fixed;
  top: 20px; left: 50%; transform: translateX(-50%);
  width: 90%; max-width:1200px;
  background: rgba(255,255,255,0.08);
  backdrop-filter: blur(14px);
  border-radius:18px; padding:14px 28px;
  display:flex; justify-content:space-between; align-items:center; z-index:1000;
}
.logo {
  margin: 0;
  height: auto;
  background: transparent;
  padding: 0;
  border: none;
}

/* button styling */
.logo {
  --border-right: 6px;
  --text-stroke-color: rgba(201, 187, 187, 0.6);
  --animation-color: #22c55e;
  --fs-size: 2em;
  letter-spacing: 3px;
  text-decoration: none;
  font-size: var(--fs-size);
  font-family: "Arial";
  position: relative;
  text-transform: uppercase;
  color: transparent;
  -webkit-text-stroke: 1px var(--text-stroke-color);
}
/* this is the text, when you hover on button */
.hover-text {
  position: absolute;
  box-sizing: border-box;
  content: attr(data-text);
  color: var(--animation-color);
  width: 0%;
  inset: 0;
  border-right: var(--border-right) solid var(--animation-color);
  overflow: hidden;
  transition: 0.5s;
  -webkit-text-stroke: 1px var(--animation-color);
}
/* hover */
.logo:hover .hover-text {
  width: 100%;
  filter: drop-shadow(0 0 23px var(--animation-color))
}

.nav-btn { padding:8px 16px; border-radius:10px; border:1px solid rgba(255,255,255,0.25); background:transparent; color:white; cursor:pointer; }

.main-container { padding:160px 8% 40px; max-width:1400px; margin:auto; }

/* DASHBOARD BAR */
.dashboard-bar {
  background: linear-gradient(135deg, rgba(34,197,94,0.35), rgba(59,130,246,0.25));
  border-radius: 20px;
  padding:26px 32px;
  margin-bottom:50px;
  box-shadow: 0 0 80px rgba(34,197,94,0.25);
}

/* LISTINGS GRID */
.listings-grid {
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(280px,1fr));
  gap:32px;
  max-height:1000px;
  overflow-y:auto;
  padding-right:8px;
}

/* SLEEK SCROLLBAR */
.listings-grid::-webkit-scrollbar { width:8px; }
.listings-grid::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); border-radius:4px; }
.listings-grid::-webkit-scrollbar-thumb { background: rgba(34,197,94,0.6); border-radius:4px; transition: background 0.3s; }
.listings-grid::-webkit-scrollbar-thumb:hover { background: rgba(34,197,94,0.9); }

.listing-card {
  background: rgba(255,255,255,0.06); border-radius:22px; padding:24px;
}
.card-content h3 { font-size:20px; margin-bottom:8px; }
.card-content p { font-size:14px; color:#cbd5e1; margin-bottom:6px; }
.card-location { margin-top:10px; font-size:13px; opacity:0.85; }
.locate-btn {
  margin-top:14px; width:100%; padding:12px; border-radius:12px; border:none;
  background: rgba(34,197,94,0.15); color:#22c55e; font-weight:600; cursor:pointer;
}
.locate-btn:hover { background:#22c55e; color:#04110a; }

/* MAP */
#map-container { display:none; padding:40px 0; }
#map { height:420px; border-radius:18px; box-shadow:0 0 40px rgba(34,197,94,0.25); }
#routeInfo { margin-top:15px; font-weight:bold; }
</style>
</head>

<body>

<nav>
  <button class="logo" data-text="Awesome">
    <span class="actual-text">&nbsp;FOODLINK&nbsp;</span>
    <span aria-hidden="true" class="hover-text">&nbsp;FOODLINK&nbsp;</span>
 </button>
  <div>
    <button class="nav-btn" onclick="location.href='index.html'">Home</button>
    <button class="nav-btn" onclick="location.href='provider.html'">Provider</button>
    <button class="nav-btn" onclick="location.href='receiver.html'">Receiver</button>
  </div>
</nav>

<div class="main-container">

  <div class="dashboard-bar">
    <h1>Receiver Dashboard</h1>
    <p>Browse nearby NGOs and food providers</p>
  </div>

  <!-- LISTINGS -->
  <div class="listings-grid">
    <div class="listing-card">
      <div class="card-content">
        <h3>Hope NGO</h3>
        <p>Servicing area: Lagos, Nigeria</p>
        <p>Contact: hope.ngo@example.com</p>
        <div class="card-location">üìç Lagos, Nigeria</div>
        <button class="locate-btn" onclick="locateReceiver(6.5244,3.3792)">Locate Now</button>
      </div>
    </div>

    <div class="listing-card">
      <div class="card-content">
        <h3>FoodBank Cairo</h3>
        <p>Servicing area: Cairo, Egypt</p>
        <p>Contact: foodbank.cairo@example.com</p>
        <div class="card-location">üìç Cairo, Egypt</div>
        <button class="locate-btn" onclick="locateReceiver(30.0444,31.2357)">Locate Now</button>
      </div>
    </div>

    <div class="listing-card">
      <div class="card-content">
        <h3>Nairobi Helpers</h3>
        <p>Servicing area: Nairobi, Kenya</p>
        <p>Contact: nairobi.helpers@example.com</p>
        <div class="card-location">üìç Nairobi, Kenya</div>
        <button class="locate-btn" onclick="locateReceiver(-1.2921,36.8219)">Locate Now</button>
      </div>
    </div>

    <!-- Add more listings as needed -->
  </div>

  <!-- MAP CONTAINER -->
  <div id="map-container">
    <h2>üìç Choose Your Location</h2>
    <p>Click on the map to set your location</p>
    <div id="map"></div>
    <p id="routeInfo"></p>
  </div>

</div>

<script>
let map, ngoMarker, userMarker, routeLine;

function locateReceiver(lat,lng){
  const mapContainer = document.getElementById('map-container');
  mapContainer.style.display='block';
  mapContainer.scrollIntoView({behavior:'smooth'});

  if(!map){
    map = L.map('map').setView([lat,lng],6);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution:'¬© OpenStreetMap'
    }).addTo(map);
  }

  if(ngoMarker) map.removeLayer(ngoMarker);
  if(userMarker) map.removeLayer(userMarker);
  if(routeLine) map.removeLayer(routeLine);

  ngoMarker = L.marker([lat,lng]).addTo(map).bindPopup("NGO Location").openPopup();

  map.once('click', function(e){
    const userLatLng = e.latlng;
    if(userMarker) map.removeLayer(userMarker);
    if(routeLine) map.removeLayer(routeLine);

    userMarker = L.marker(userLatLng).addTo(map).bindPopup("Your Location").openPopup();
    routeLine = L.polyline([ngoMarker.getLatLng(), userLatLng], {dashArray:'6,6'}).addTo(map);

    const distance = ngoMarker.getLatLng().distanceTo(userLatLng)/1000;
    const time = (distance/40)*60;
    document.getElementById('routeInfo').innerHTML =
      `üöó Distance: ${distance.toFixed(2)} km | ‚è± Estimated Time: ${time.toFixed(0)} mins`;

    const group = new L.featureGroup([ngoMarker, userMarker]);
    map.fitBounds(group.getBounds().pad(0.5));
  });

  map.setView([lat,lng],6);
}
</script>

</body>
</html>

